import{A as C,a9 as B,u as S,aa as N,L as P,M as I,Q as J,ab as V,r as L,ac as x,ad as A,ae as H,C as Q,E as M,J as U,af as Z,b as z,ag as G,ah as X}from"./DJcReaHx.js";import{c as $}from"./By3BEXFl.js";const Y={trailing:!0};function k(t,e=25,o={}){if(o={...Y,...o},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let i,n,u=[],s,a;const h=(d,m)=>(s=K(t,d,m),s.finally(()=>{if(s=null,o.trailing&&a&&!n){const b=h(d,a);return a=null,b}}),s),v=function(...d){return o.trailing&&(a=d),s||new Promise(m=>{const b=!n&&o.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const l=o.leading?i:h(this,d);a=null;for(const f of u)f(l);u=[]},e),b?(i=h(this,d),m(i)):u.push(m)})},r=d=>{d&&(clearTimeout(d),n=null)};return v.isPending=()=>!!n,v.cancel=()=>{r(n),u=[],a=null},v.flush=()=>{if(r(n),!a||s)return;const d=a;return a=null,h(this,d)},v}async function K(t,e,o){return await t.apply(e,o)}function ot(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;tt(t[0],t[1])&&t.unshift(e);let[o,i,n={}]=t,u=!1;const s=C(()=>B(o));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=S();n.server??=!0,n.default??=at,n.getCachedData??=T,n.lazy??=!1,n.immediate??=!0,n.deep??=N.deep,n.dedupe??="cancel",n._functionName,a._asyncData[s.value];function h(){const l={cause:"initial",dedupe:n.dedupe};return a._asyncData[s.value]?._init||(l.cachedData=n.getCachedData(s.value,a,{cause:"initial"}),a._asyncData[s.value]=q(a,s.value,i,n,l.cachedData)),()=>a._asyncData[s.value].execute(l)}const v=h(),r=a._asyncData[s.value];r._deps++;const d=n.server!==!1&&a.payload.serverRendered;{let l=function(c){const g=a._asyncData[c];g?._deps&&(g._deps--,g._deps===0&&g?._off())};const f=U();if(f&&d&&n.immediate&&!f.sp&&(f.sp=[]),f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const c=f._nuxtOnBeforeMountCbs;Z(()=>{c.forEach(g=>{g()}),c.splice(0,c.length)}),z(()=>c.splice(0,c.length))}const _=f&&(f._nuxtClientOnly||G($,!1));d&&a.isHydrating&&(r.error.value||r.data.value!==void 0)?r.status.value=r.error.value?"error":"success":f&&(!_&&a.payload.serverRendered&&a.isHydrating||n.lazy)&&n.immediate?f._nuxtOnBeforeMountCbs.push(v):n.immediate&&r.status.value!=="success"&&v();const y=V(),p=P(s,(c,g)=>{if((c||g)&&c!==g){u=!0;const w=a._asyncData[g]?.data.value!==void 0,W=a._asyncDataPromises[g]!==void 0,O={cause:"initial",dedupe:n.dedupe};if(!a._asyncData[c]?._init){let j;g&&w?j=a._asyncData[g].data.value:(j=n.getCachedData(c,a,{cause:"initial"}),O.cachedData=j),a._asyncData[c]=q(a,c,i,n,j)}a._asyncData[c]._deps++,g&&l(g),(n.immediate||w||W)&&a._asyncData[c].execute(O),X(()=>{u=!1})}},{flush:"sync"}),D=n.watch?P(n.watch,()=>{u||r._execute({cause:"watch",dedupe:n.dedupe})}):()=>{};y&&I(()=>{p(),D(),l(s.value)})}const m={data:E(()=>a._asyncData[s.value]?.data),pending:E(()=>a._asyncData[s.value]?.pending),status:E(()=>a._asyncData[s.value]?.status),error:E(()=>a._asyncData[s.value]?.error),refresh:(...l)=>a._asyncData[s.value]?._init?a._asyncData[s.value].execute(...l):h()(),execute:(...l)=>m.refresh(...l),clear:()=>{const l=a._asyncData[s.value];if(l?._abortController)try{l._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{l._abortController=void 0}R(a,s.value)}},b=Promise.resolve(a._asyncDataPromises[s.value]).then(()=>m);return Object.assign(b,m),b}function E(t){return C({get(){return t()?.value},set(e){const o=t();o&&(o.value=e)}})}function tt(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}async function it(t){await new Promise(o=>J(o)),await S().hooks.callHookParallel("app:data:refresh",void 0)}function R(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=void 0),t._asyncData[e]&&(t._asyncData[e].data.value=M(t._asyncData[e]._default()),t._asyncData[e].error.value=void 0,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]=void 0)}function et(t,e){const o={};for(const i of e)o[i]=t[i];return o}function q(t,e,o,i,n){t.payload._errors[e]??=void 0;const u=i.getCachedData!==T,s=o,a=i.deep?L:x,h=n!==void 0,v=t.hook("app:data:refresh",async d=>{(!d||d.includes(e))&&await r.execute({cause:"refresh:hook"})}),r={data:a(h?n:i.default()),pending:C(()=>r.status.value==="pending"),error:A(t.payload._errors,e),status:x("idle"),execute:(...d)=>{const[m,b=void 0]=d,l=m&&b===void 0&&typeof m=="object"?m:{};if(t._asyncDataPromises[e]&&(l.dedupe??i.dedupe)==="defer")return t._asyncDataPromises[e];{const _="cachedData"in l?l.cachedData:i.getCachedData(e,t,{cause:l.cause??"refresh:manual"});if(_!==void 0)return t.payload.data[e]=r.data.value=_,r.error.value=void 0,r.status.value="success",Promise.resolve(_)}r._abortController&&r._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),r._abortController=new AbortController,r.status.value="pending";const f=new Promise((_,y)=>{try{const p=l.timeout??i.timeout,D=nt([r._abortController?.signal,l?.signal],p);if(D.aborted){const c=D.reason;y(c instanceof Error?c:new DOMException(String(c??"Aborted"),"AbortError"));return}return D.addEventListener("abort",()=>{const c=D.reason;y(c instanceof Error?c:new DOMException(String(c??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(s(t,{signal:D})).then(_,y)}catch(p){y(p)}}).then(async _=>{let y=_;i.transform&&(y=await i.transform(_)),i.pick&&(y=et(y,i.pick)),t.payload.data[e]=y,r.data.value=y,r.error.value=void 0,r.status.value="success"}).catch(_=>{if(!(t._asyncDataPromises[e]&&t._asyncDataPromises[e]!==f)&&!r._abortController?.signal.aborted){if(typeof DOMException<"u"&&_ instanceof DOMException&&_.name==="AbortError"){r.status.value="idle";return}r.error.value=Q(_),r.data.value=M(i.default()),r.status.value="error"}}).finally(()=>{delete t._asyncDataPromises[e]});return t._asyncDataPromises[e]=f,t._asyncDataPromises[e]},_execute:k((...d)=>r.execute(...d),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{v(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),u||H(()=>{t._asyncData[e]?._init||(R(t,e),r.execute=()=>Promise.resolve())})}};return r}const at=()=>{},T=(t,e,o)=>{if(e.isHydrating)return e.payload.data[t];if(o.cause!=="refresh:manual"&&o.cause!=="refresh:hook")return e.static.data[t]};function nt(t,e){const o=t.filter(u=>!!u);if(typeof e=="number"&&e>=0){const u=AbortSignal.timeout?.(e);u&&o.push(u)}if(AbortSignal.any)return AbortSignal.any(o);const i=new AbortController;for(const u of o)if(u.aborted){const s=u.reason??new DOMException("Aborted","AbortError");try{i.abort(s)}catch{i.abort()}return i.signal}const n=()=>{const s=o.find(a=>a.aborted)?.reason??new DOMException("Aborted","AbortError");try{i.abort(s)}catch{i.abort()}};for(const u of o)u.addEventListener?.("abort",n,{once:!0});return i.signal}const F={content_en:"v3.5.0--wpGEFSmXu0sOVKiOlUpCcJ4vNZGMf4yi51EFeIjwPks",content_fr:"v3.5.0--ArIk4YOaqOWHQwRPED4G20RbsxMgpEX0onnfnz17NFI",articles_en:"v3.5.0--lWSfvvXDiVC1wZeDARyc-CDOq6t24CnmHL3ZOytZqEY",articles_fr:"v3.5.0--7KJitVVwR0KoH3ErWFwBw21vjxiquKjZPWxDQqkWx2A",projects_en:"v3.5.0--UJE3CIZL09b7oG4IEDC3CBAbR9RBWTftJPTnoJ4YOF0",projects_fr:"v3.5.0--o2dmEz0kR7jycWAudWWJI87vyGp6NwvSCp1sHyRo0LE",stack:"v3.5.0--Qmj4t2ByZyBR5ulc5-JwMa_PL_tVFcEqcS0Ety0ZRSo",faq_en:"v3.5.0--TgEwNOJM13trv2x9dkFz3-OxC1EgJ1X512r6gxbteeU",faq_fr:"v3.5.0--4W0Pfx9U0ojpvyfh7CzUW5mDq85zVyqlxt8e8Bk5i3Q"},ct={content_en:"_content_content_en",content_fr:"_content_content_fr",articles_en:"_content_articles_en",articles_fr:"_content_articles_fr",projects_en:"_content_projects_en",projects_fr:"_content_projects_fr",stack:"_content_stack",faq_en:"_content_faq_en",faq_fr:"_content_faq_fr",info:"_content_info"},lt={content_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},content_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},articles_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},articles_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},projects_en:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},projects_fr:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},stack:{type:"data",fields:{id:"string",extension:"string",items:"json",meta:"json",stem:"string"}},faq_en:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},faq_fr:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},info:{type:"data",fields:{}}};async function ut(t,e){return await $fetch(`/__nuxt_content/${e}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:F[String(e)],t:void 0}})}async function dt(t,e,o){return await $fetch(`/__nuxt_content/${e}/query`,{context:t?{cloudflare:t.context.cloudflare}:{},headers:{"content-type":"application/json",...t?.node?.req?.headers?.cookie?{cookie:t.node.req.headers.cookie}:{}},query:{v:F[String(e)],t:void 0},method:"POST",body:{sql:o}})}export{F as a,ut as b,lt as c,dt as f,it as r,ct as t,ot as u};
