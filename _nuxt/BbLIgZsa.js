import{y as G,av as C,o as L,aw as N,Y as I,c as W,J as M,ax as Q,A as w,ay as U,u as S,az as A,L as P,M as H,Q as J,aA as V,r as X,aB as Z,ar as $,C as Y,E as T,aC as K,b as ee,aD as te,aE as ae}from"./B1MCtTnA.js";const ne={trailing:!0};function se(e,t=25,r={}){if(r={...ne,...r},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,n,c=[],s,a;const _=(d,y)=>(s=re(e,d,y),s.finally(()=>{if(s=null,r.trailing&&a&&!n){const v=_(d,a);return a=null,v}}),s),b=function(...d){return r.trailing&&(a=d),s||new Promise(y=>{const v=!n&&r.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const u=r.leading?o:_(this,d);a=null;for(const f of c)f(u);c=[]},t),v?(o=_(this,d),y(o)):c.push(y)})},i=d=>{d&&(clearTimeout(d),n=null)};return b.isPending=()=>!!n,b.cancel=()=>{i(n),c=[],a=null},b.flush=()=>{if(i(n),!a||s)return;const d=a;return a=null,_(this,d)},b}async function re(e,t,r){return await e.apply(t,r)}const R=Symbol.for("nuxt:client-only"),de=G({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:r}){const o=C(!1);L(()=>{o.value=!0});const n=M();return n&&(n._nuxtClientOnly=!0),Q(R,!0),()=>{if(o.value){const _=t.default?.();return _&&_.length===1?[N(_[0],r)]:_}const c=t.fallback||t.placeholder;if(c)return I(c);const s=e.fallback||e.placeholder||"",a=e.fallbackTag||e.placeholderTag||"span";return W(a,r,s)}}});function fe(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;oe(e[0],e[1])&&e.unshift(t);let[r,o,n={}]=e,c=!1;const s=w(()=>U(r));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=S();n.server??=!0,n.default??=ce,n.getCachedData??=k,n.lazy??=!1,n.immediate??=!0,n.deep??=A.deep,n.dedupe??="cancel",n._functionName,a._asyncData[s.value];function _(){const u={cause:"initial",dedupe:n.dedupe};return a._asyncData[s.value]?._init||(u.cachedData=n.getCachedData(s.value,a,{cause:"initial"}),a._asyncData[s.value]=q(a,s.value,o,n,u.cachedData)),()=>a._asyncData[s.value].execute(u)}const b=_(),i=a._asyncData[s.value];i._deps++;const d=n.server!==!1&&a.payload.serverRendered;{let u=function(l){const g=a._asyncData[l];g?._deps&&(g._deps--,g._deps===0&&g?._off())};const f=M();if(f&&d&&n.immediate&&!f.sp&&(f.sp=[]),f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const l=f._nuxtOnBeforeMountCbs;K(()=>{l.forEach(g=>{g()}),l.splice(0,l.length)}),ee(()=>l.splice(0,l.length))}const m=f&&(f._nuxtClientOnly||te(R,!1));d&&a.isHydrating&&(i.error.value||i.data.value!==void 0)?i.status.value=i.error.value?"error":"success":f&&(!m&&a.payload.serverRendered&&a.isHydrating||n.lazy)&&n.immediate?f._nuxtOnBeforeMountCbs.push(b):n.immediate&&i.status.value!=="success"&&b();const h=V(),p=P(s,(l,g)=>{if((l||g)&&l!==g){c=!0;const x=a._asyncData[g]?.data.value!==void 0,F=a._asyncDataPromises[g]!==void 0,O={cause:"initial",dedupe:n.dedupe};if(!a._asyncData[l]?._init){let j;g&&x?j=a._asyncData[g].data.value:(j=n.getCachedData(l,a,{cause:"initial"}),O.cachedData=j),a._asyncData[l]=q(a,l,o,n,j)}a._asyncData[l]._deps++,g&&u(g),(n.immediate||x||F)&&a._asyncData[l].execute(O),ae(()=>{c=!1})}},{flush:"sync"}),D=n.watch?P(n.watch,()=>{c||i._execute({cause:"watch",dedupe:n.dedupe})}):()=>{};h&&H(()=>{p(),D(),u(s.value)})}const y={data:E(()=>a._asyncData[s.value]?.data),pending:E(()=>a._asyncData[s.value]?.pending),status:E(()=>a._asyncData[s.value]?.status),error:E(()=>a._asyncData[s.value]?.error),refresh:(...u)=>a._asyncData[s.value]?._init?a._asyncData[s.value].execute(...u):_()(),execute:(...u)=>y.refresh(...u),clear:()=>{const u=a._asyncData[s.value];if(u?._abortController)try{u._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{u._abortController=void 0}B(a,s.value)}},v=Promise.resolve(a._asyncDataPromises[s.value]).then(()=>y);return Object.assign(v,y),v}function E(e){return w({get(){return e()?.value},set(t){const r=e();r&&(r.value=t)}})}function oe(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}async function ge(e){await new Promise(r=>J(r)),await S().hooks.callHookParallel("app:data:refresh",void 0)}function B(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=T(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function ie(e,t){const r={};for(const o of t)r[o]=e[o];return r}function q(e,t,r,o,n){e.payload._errors[t]??=void 0;const c=o.getCachedData!==k,s=r,a=o.deep?X:C,_=n!==void 0,b=e.hook("app:data:refresh",async d=>{(!d||d.includes(t))&&await i.execute({cause:"refresh:hook"})}),i={data:a(_?n:o.default()),pending:w(()=>i.status.value==="pending"),error:Z(e.payload._errors,t),status:C("idle"),execute:(...d)=>{const[y,v=void 0]=d,u=y&&v===void 0&&typeof y=="object"?y:{};if(e._asyncDataPromises[t]&&(u.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];{const m="cachedData"in u?u.cachedData:o.getCachedData(t,e,{cause:u.cause??"refresh:manual"});if(m!==void 0)return e.payload.data[t]=i.data.value=m,i.error.value=void 0,i.status.value="success",Promise.resolve(m)}i._abortController&&i._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),i._abortController=new AbortController,i.status.value="pending";const f=new Promise((m,h)=>{try{const p=u.timeout??o.timeout,D=le([i._abortController?.signal,u?.signal],p);if(D.aborted){const l=D.reason;h(l instanceof Error?l:new DOMException(String(l??"Aborted"),"AbortError"));return}return D.addEventListener("abort",()=>{const l=D.reason;h(l instanceof Error?l:new DOMException(String(l??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(s(e,{signal:D})).then(m,h)}catch(p){h(p)}}).then(async m=>{let h=m;o.transform&&(h=await o.transform(m)),o.pick&&(h=ie(h,o.pick)),e.payload.data[t]=h,i.data.value=h,i.error.value=void 0,i.status.value="success"}).catch(m=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==f)&&!i._abortController?.signal.aborted){if(typeof DOMException<"u"&&m instanceof DOMException&&m.name==="AbortError"){i.status.value="idle";return}i.error.value=Y(m),i.data.value=T(o.default()),i.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=f,e._asyncDataPromises[t]},_execute:se((...d)=>i.execute(...d),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{b(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),c||$(()=>{e._asyncData[t]?._init||(B(e,t),i.execute=()=>Promise.resolve())})}};return i}const ce=()=>{},k=(e,t,r)=>{if(t.isHydrating)return t.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return t.static.data[e]};function le(e,t){const r=e.filter(c=>!!c);if(typeof t=="number"&&t>=0){const c=AbortSignal.timeout?.(t);c&&r.push(c)}if(AbortSignal.any)return AbortSignal.any(r);const o=new AbortController;for(const c of r)if(c.aborted){const s=c.reason??new DOMException("Aborted","AbortError");try{o.abort(s)}catch{o.abort()}return o.signal}const n=()=>{const s=r.find(a=>a.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(s)}catch{o.abort()}};for(const c of r)c.addEventListener?.("abort",n,{once:!0});return o.signal}const z={content_en:"v3.5.0--bGGuMzPP-2qM5lWum0yLF1iz1me4DATjIrknRMnGhFc",content_fr:"v3.5.0--ArIk4YOaqOWHQwRPED4G20RbsxMgpEX0onnfnz17NFI",articles_en:"v3.5.0--v5BzLWbZcq2ebxlzPXGsqkUerkdyGcEJu5KjE4oRnbQ",articles_fr:"v3.5.0--KHRLaL7sIOglr7JM2Kt37MXL-_qnBXj2omE5Ggobb9c",projects_en:"v3.5.0--5uaJHJglkCb1S_5fb7XVGimS4x1sMLFIepkqqDO0kow",projects_fr:"v3.5.0--QGM_uAfW-MjHDxGbOMvUdl_iziAr5QGZzwUWiWBRU-w",stack:"v3.5.0--Qmj4t2ByZyBR5ulc5-JwMa_PL_tVFcEqcS0Ety0ZRSo",faq_en:"v3.5.0--TgEwNOJM13trv2x9dkFz3-OxC1EgJ1X512r6gxbteeU",faq_fr:"v3.5.0--4W0Pfx9U0ojpvyfh7CzUW5mDq85zVyqlxt8e8Bk5i3Q"},_e={content_en:"_content_content_en",content_fr:"_content_content_fr",articles_en:"_content_articles_en",articles_fr:"_content_articles_fr",projects_en:"_content_projects_en",projects_fr:"_content_projects_fr",stack:"_content_stack",faq_en:"_content_faq_en",faq_fr:"_content_faq_fr",info:"_content_info"},me={content_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},content_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},articles_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},articles_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},projects_en:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},projects_fr:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},stack:{type:"data",fields:{id:"string",extension:"string",items:"json",meta:"json",stem:"string"}},faq_en:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},faq_fr:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},info:{type:"data",fields:{}}};async function ye(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:z[String(t)],t:void 0}})}async function he(e,t,r){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:z[String(t)],t:void 0},method:"POST",body:{sql:r}})}export{de as _,z as a,he as b,me as c,ye as f,ge as r,_e as t,fe as u};
